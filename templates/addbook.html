<!DOCTYPE html>
<html lang="en">
  <title>Add Book</title>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
{% extends 'base.html' %}
{% block content %}

    <div class="container">
      <h1 class="mt-2">Add Book</h1>
      <form class="mt-4" action="/add-book/add" method="post">
        {% csrf_token %}
        <div class="form-group">
          <label for="book_no">Book Number</label>
          <input type="text" class="form-control" id="book_no" placeholder="Enter No of Books" name="book_no" pattern="[A-Z a-z 0-9]+" title="Please enter only integer" required>

          <label for="title">Title</label>
          <input type="text" class="form-control" id="title" placeholder="Enter Title" name="title" pattern="[a-z A-z \-]+" tittle="please enter valid tittle" required>
          
          <label for="author">Author Name</label>
          <input type="text" class="form-control" id="author" placeholder="Enter Author Name" name="author" pattern="[a-z A-Z]+" title="Please enter only alphabet" required>
          
          <label for="no_of_copies">Number of Copies</label>
          <input type="text" class="form-control" id="no_of_copies" placeholder="Enter No of copies" name="no_of_copies" pattern="[0-9]+" title="Please enter only integer" required>
         
          <label for="categoryChoice">Enter The Category</label>
          <div>
              <input type="checkbox" id="existingCategoryRadio" name="existingCategory" onclick="toggleCategoryInput('existing')"> Select Existing Category
              <input type="checkbox" id="newCategoryRadio" name="newCategory" onclick="toggleCategoryInput('new')"> Enter New Category
          </div>
          
          <div class="input-group mb-3" id="categorySelect" style="display:none;">
              <div class="input-group-prepend">
                  <label class="input-group-text" for="inputGroupSelect01">Category :</label>
              </div>
              <select class="custom-select" style="width: 900px; border: 2px solid black;" id="inputGroupSelect01" name="category">
                 <option value="" selected>Choose</option>
                  {% for i in category %}
                      <option value="{{ i }}">{{ i }}</option>
                  {% endfor %}
              </select>
          </div>
          
          <div class="input-group mb-3" id="newCategoryInput" style="display:none;">
              <div class="input-group-prepend">
                  <label class="input-group-text" for="newCategory">New Category :</label>
              </div>
              <input type="text" style="width: 900px; border: 2px solid black;" id="newCategory" placeholder="Enter new category" name="newcategory">
          </div>
          
          


        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
 
    <script>
      function toggleCategoryInput(choice) {
          var categorySelect = document.getElementById('categorySelect');
          var newCategoryInput = document.getElementById('newCategoryInput');
          
          if (choice === 'existing') {
              categorySelect.style.display = 'block';
              newCategoryInput.style.display = 'none';
          } else {
              categorySelect.style.display = 'none';
              newCategoryInput.style.display = 'block';
          }
        
      }
  </script>
{% endblock %}
